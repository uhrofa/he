{%- assign get_post_tag = page.tag.first -%}

{%- comment -%}
## from: vdeep
## source: https://gist.github.com/Phlow/5613fb3f18946f577f071e2a258749a3
{%- endcomment -%}

{%- assign prevflag = 1 -%}
{%- assign nextflag = 1 -%}

{%- for c in site[get_post_tag] -%}
  {%- if c.title == page.title -%}
    {%- assign currentItemIndex = forloop.index0 -%}
    {%- if forloop.index == 1 -%}
      {%- assign prevflag = 0 -%}
      {%- assign nextflag = 1 -%}
    {%- elsif forloop.index == forloop.length -%}
      {%- assign prevflag = 1 -%}
      {%- assign nextflag = 0 -%}
    {%- endif -%}
  {%- endif -%}
{%- endfor -%}

{%- if prevflag == 1 -%}
  {%- assign prevItemIndex = currentItemIndex | minus: 1 -%}
  {%- assign prevPost = site[get_post_tag][prevItemIndex] -%}
{%- endif -%}

{%- if nextflag == 1 -%}
  {%- assign nextItemIndex = currentItemIndex | plus: 1 -%}
  {%- assign nextPost = site[get_post_tag][nextItemIndex] -%}
{%- endif -%}

<div class="border-top border-bottom w-100 py-3 my-3 mt-2 text-md clearfix b-title">
  {%- if prevPost.url -%}
  <a class="float-left" href="{{ prevPost.url }}" title="{{ prevPost.title }}">
    <span class="btn btn-sm btn-outline-primary btn-rounded"><i class="fa fa-angle-left"></i> Previous Article</span>
  </a>
  {%- endif -%}
  {%- if nextPost.url -%}
  <a class="float-right" href="{{ nextPost.url }}" title="{{ nextPost.title }}">
    <span class="btn btn-sm btn-outline-primary btn-rounded">Next Article <i class="fa fa-angle-right"></i></span>
  </a>
  {%- endif -%}
</div>